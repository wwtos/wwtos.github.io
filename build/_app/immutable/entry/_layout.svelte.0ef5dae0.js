var Ye=Object.defineProperty;var Qe=(n,e,t)=>e in n?Ye(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var se=(n,e,t)=>(Qe(n,typeof e!="symbol"?e+"":e,t),t);import{S as z,i as H,s as L,C as De,D as We,E as ze,F as He,g as R,d as S,t as qe,G as et,H as de,I as tt,J as _e,K as he,L as nt,M as ue,N as rt,O as st,k as B,a as Q,l as T,m as x,h as b,c as q,n as E,P as J,b as O,Q as K,R as N,v as pe,f as me,T as Ie,o as Le,U as ot,V as D,W as it,e as ee,X as at,x as we,y as V,z as j,A as M,Y as lt,Z as ut,B as X,_ as ct,$ as ft,a0 as be,a1 as gt,a2 as dt,a3 as ht,a4 as pt,a5 as mt,a6 as It,a7 as yt}from"../chunks/index.ace4def9.js";import{w as ye}from"../chunks/index.48dfbc7e.js";import{i as At}from"../chunks/SideNavbar.svelte_svelte_type_style_lang.2c46f53d.js";import"../chunks/paths.dc351bbe.js";class ne{constructor(e){this.value=e}valueOf(){return this.value}}class _ extends ne{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class G extends ne{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}}class U extends ne{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}}const Ee=100,Ct="⁨",_t="⁩";function wt(n,e,t){if(t===e||t instanceof G&&e instanceof G&&t.value===e.value)return!0;if(e instanceof G&&typeof t=="string"){let r=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===r)return!0}return!1}function ve(n,e,t){return e[t]?F(n,e[t].value):(n.reportError(new RangeError("No default")),new _)}function ce(n,e){const t=[],r=Object.create(null);for(const s of e)s.type==="narg"?r[s.name]=W(n,s.value):t.push(W(n,s));return{positional:t,named:r}}function W(n,e){switch(e.type){case"str":return e.value;case"num":return new G(e.value,{minimumFractionDigits:e.precision});case"var":return bt(n,e);case"mesg":return Et(n,e);case"term":return vt(n,e);case"func":return Rt(n,e);case"select":return St(n,e);default:return new _}}function bt(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new _(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new _(`$${e}`);if(t instanceof ne)return t;switch(typeof t){case"string":return t;case"number":return new G(t);case"object":if(t instanceof Date)return new U(t.getTime());default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new _(`$${e}`)}}function Et(n,{name:e,attr:t}){const r=n.bundle._messages.get(e);if(!r)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new _(e);if(t){const s=r.attributes[t];return s?F(n,s):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new _(`${e}.${t}`))}return r.value?F(n,r.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new _(e))}function vt(n,{name:e,attr:t,args:r}){const s=`-${e}`,o=n.bundle._terms.get(s);if(!o)return n.reportError(new ReferenceError(`Unknown term: ${s}`)),new _(s);if(t){const i=o.attributes[t];if(i){n.params=ce(n,r).named;const u=F(n,i);return n.params=null,u}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new _(`${s}.${t}`)}n.params=ce(n,r).named;const a=F(n,o.value);return n.params=null,a}function Rt(n,{name:e,args:t}){let r=n.bundle._functions[e];if(!r)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new _(`${e}()`);if(typeof r!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new _(`${e}()`);try{let s=ce(n,t);return r(s.positional,s.named)}catch(s){return n.reportError(s),new _(`${e}()`)}}function St(n,{selector:e,variants:t,star:r}){let s=W(n,e);if(s instanceof _)return ve(n,t,r);for(const o of t){const a=W(n,o.key);if(wt(n,s,a))return F(n,o.value)}return ve(n,t,r)}function je(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new _;n.dirty.add(e);const t=[],r=n.bundle._useIsolating&&e.length>1;for(const s of e){if(typeof s=="string"){t.push(n.bundle._transform(s));continue}if(n.placeables++,n.placeables>Ee)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${Ee}`);r&&t.push(Ct),t.push(W(n,s).toString(n)),r&&t.push(_t)}return n.dirty.delete(e),t.join("")}function F(n,e){return typeof e=="string"?n.bundle._transform(e):je(n,e)}class kt{constructor(e,t,r){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=r}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let r=this.bundle._intls.get(e);r||(r={},this.bundle._intls.set(e,r));let s=JSON.stringify(t);return r[s]||(r[s]=new e(this.bundle.locales,t)),r[s]}}function te(n,e){const t=Object.create(null);for(const[r,s]of Object.entries(n))e.includes(r)&&(t[r]=s.valueOf());return t}const Re=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function Gt(n,e){let t=n[0];if(t instanceof _)return new _(`NUMBER(${t.valueOf()})`);if(t instanceof G)return new G(t.valueOf(),{...t.opts,...te(e,Re)});if(t instanceof U)return new G(t.valueOf(),{...te(e,Re)});throw new TypeError("Invalid argument to NUMBER")}const Se=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function $t(n,e){let t=n[0];if(t instanceof _)return new _(`DATETIME(${t.valueOf()})`);if(t instanceof U)return new U(t.valueOf(),{...t.opts,...te(e,Se)});if(t instanceof G)return new U(t.valueOf(),{...te(e,Se)});throw new TypeError("Invalid argument to DATETIME")}const ke=new Map;function Nt(n){const e=Array.isArray(n)?n.join(" "):n;let t=ke.get(e);return t===void 0&&(t=new Map,ke.set(e,t)),t}class Ot{constructor(e,{functions:t,useIsolating:r=!0,transform:s=o=>o}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:Gt,DATETIME:$t,...t},this._useIsolating=r,this._transform=s,this._intls=Nt(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const r=[];for(let s=0;s<e.body.length;s++){let o=e.body[s];if(o.id.startsWith("-")){if(t===!1&&this._terms.has(o.id)){r.push(new Error(`Attempt to override an existing term: "${o.id}"`));continue}this._terms.set(o.id,o)}else{if(t===!1&&this._messages.has(o.id)){r.push(new Error(`Attempt to override an existing message: "${o.id}"`));continue}this._messages.set(o.id,o)}}return r}formatPattern(e,t=null,r=null){if(typeof e=="string")return this._transform(e);let s=new kt(this,r,t);try{return je(s,e).toString(s)}catch(o){if(s.errors&&o instanceof Error)return s.errors.push(o),new _().toString(s);throw o}}}const oe=/^(-?[a-zA-Z][\w-]*) *= */gm,Ge=/\.([a-zA-Z][\w-]*) *= */y,Bt=/\*?\[/y,ie=/(-?[0-9]+(?:\.([0-9]+))?)/y,Tt=/([a-zA-Z][\w-]*)/y,$e=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,xt=/^[A-Z][A-Z0-9_-]*$/,Y=/([^{}\n\r]+)/y,Vt=/([^\\"\n\r]*)/y,Ne=/\\([\\"])/y,Oe=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,Mt=/^\n+/,Be=/ +$/,Xt=/ *\r?\n/g,Ft=/( *)$/,Zt=/{\s*/y,Te=/\s*}/y,Kt=/\[\s*/y,Ut=/\s*] */y,Dt=/\s*\(\s*/y,Wt=/\s*->\s*/y,zt=/\s*:\s*/y,Ht=/\s*,?\s*/y,Lt=/\s+/y;class jt{constructor(e){this.body=[],oe.lastIndex=0;let t=0;for(;;){let l=oe.exec(e);if(l===null)break;t=oe.lastIndex;try{this.body.push(u(l[1]))}catch(d){if(d instanceof SyntaxError)continue;throw d}}function r(l){return l.lastIndex=t,l.test(e)}function s(l,d){if(e[t]===l)return t++,!0;if(d)throw new d(`Expected ${l}`);return!1}function o(l,d){if(r(l))return t=l.lastIndex,!0;if(d)throw new d(`Expected ${l.toString()}`);return!1}function a(l){l.lastIndex=t;let d=l.exec(e);if(d===null)throw new SyntaxError(`Expected ${l.toString()}`);return t=l.lastIndex,d}function i(l){return a(l)[1]}function u(l){let d=h(),A=c();if(d===null&&Object.keys(A).length===0)throw new SyntaxError("Expected message value or attributes");return{id:l,value:d,attributes:A}}function c(){let l=Object.create(null);for(;r(Ge);){let d=i(Ge),A=h();if(A===null)throw new SyntaxError("Expected attribute value");l[d]=A}return l}function h(){let l;if(r(Y)&&(l=i(Y)),e[t]==="{"||e[t]==="}")return g(l?[l]:[],1/0);let d=Ae();return d?l?g([l,d],d.length):(d.value=re(d.value,Mt),g([d],d.length)):l?re(l,Be):null}function g(l=[],d){for(;;){if(r(Y)){l.push(i(Y));continue}if(e[t]==="{"){l.push(f());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let k=Ae();if(k){l.push(k),d=Math.min(d,k.length);continue}break}let A=l.length-1,$=l[A];typeof $=="string"&&(l[A]=re($,Be));let Z=[];for(let k of l)k instanceof xe&&(k=k.value.slice(0,k.value.length-d)),k&&Z.push(k);return Z}function f(){o(Zt,SyntaxError);let l=p();if(o(Te))return l;if(o(Wt)){let d=y();return o(Te,SyntaxError),{type:"select",selector:l,...d}}throw new SyntaxError("Unclosed placeable")}function p(){if(e[t]==="{")return f();if(r($e)){let[,l,d,A=null]=a($e);if(l==="$")return{type:"var",name:d};if(o(Dt)){let $=m();if(l==="-")return{type:"term",name:d,attr:A,args:$};if(xt.test(d))return{type:"func",name:d,args:$};throw new SyntaxError("Function names must be all upper-case")}return l==="-"?{type:"term",name:d,attr:A,args:[]}:{type:"mesg",name:d,attr:A}}return C()}function m(){let l=[];for(;;){switch(e[t]){case")":return t++,l;case void 0:throw new SyntaxError("Unclosed argument list")}l.push(I()),o(Ht)}}function I(){let l=p();return l.type!=="mesg"?l:o(zt)?{type:"narg",name:l.name,value:C()}:l}function y(){let l=[],d=0,A;for(;r(Bt);){s("*")&&(A=d);let $=w(),Z=h();if(Z===null)throw new SyntaxError("Expected variant value");l[d++]={key:$,value:Z}}if(d===0)return null;if(A===void 0)throw new SyntaxError("Expected default variant");return{variants:l,star:A}}function w(){o(Kt,SyntaxError);let l;return r(ie)?l=v():l={type:"str",value:i(Tt)},o(Ut,SyntaxError),l}function C(){if(r(ie))return v();if(e[t]==='"')return P();throw new SyntaxError("Invalid expression")}function v(){let[,l,d=""]=a(ie),A=d.length;return{type:"num",value:parseFloat(l),precision:A}}function P(){s('"',SyntaxError);let l="";for(;;){if(l+=i(Vt),e[t]==="\\"){l+=Je();continue}if(s('"'))return{type:"str",value:l};throw new SyntaxError("Unclosed string literal")}}function Je(){if(r(Ne))return i(Ne);if(r(Oe)){let[,l,d]=a(Oe),A=parseInt(l||d,16);return A<=55295||57344<=A?String.fromCodePoint(A):"�"}throw new SyntaxError("Unknown escape sequence")}function Ae(){let l=t;switch(o(Lt),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return Ce(e.slice(l,t))}return e[t-1]===" "?Ce(e.slice(l,t)):!1}function re(l,d){return l.replace(d,"")}function Ce(l){let d=l.replace(Xt,`
`),A=Ft.exec(l)[1].length;return new xe(d,A)}}}class xe{constructor(e,t){this.value=e,this.length=t}}class Pt extends Array{static from(e){return e instanceof this?e:new this(e)}}class Jt extends Pt{constructor(e){if(super(),Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.iterator](){const e=this;let t=0;return{next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}touchNext(e=1){let t=0;for(;t++<e;){const r=this[this.length-1];if(r&&r.done)break;this.push(this.iterator.next())}return this[this.length-1]}}function Yt(n){let e;const t=n[4].default,r=De(t,n,n[3],null);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,o){r&&r.m(s,o),e=!0},p(s,[o]){r&&r.p&&(!e||o&8)&&We(r,t,s,s[3],e?He(t,s[3],o,null):ze(s[3]),null)},i(s){e||(R(r,s),e=!0)},o(s){S(r,s),e=!1},d(s){r&&r.d(s)}}}function Qt(n,e,t){let r,s,{$$slots:o={},$$scope:a}=e,{bundles:i=[]}=e;const u=qe(),c=et(),h=ye(r);return de(n,h,g=>t(5,s=g)),At(h,async g=>{await u,c("error",g)}),n.$$set=g=>{"bundles"in g&&t(1,i=g.bundles),"$$scope"in g&&t(3,a=g.$$scope)},n.$$.update=()=>{n.$$.dirty&2&&t(2,r=Jt.from(i)),n.$$.dirty&4&&tt(h,s=r,s)},[h,i,r,a,o]}class qt extends z{constructor(e){super(),H(this,e,Qt,Yt,L,{bundles:1})}}const en=`socket-attack = Attack
socket-audio = Audio
socket-decay = Decay
socket-frequency = Frequency
socket-gain = Gain
socket-gate = Gate
socket-midi = Midi
socket-input-numbered = Input { $id }
socket-release = Release
socket-resonance = Resonance
socket-speed = Speed
socket-sustain = Sustain
socket-value = Value
socket-variable-numbered = x{ $id }

node-envelope = Envelope
node-expression = Expression
node-expression-stream = Stream Expression
node-filter-midi = Midi Filter
node-filter-biquad = Filter (12db/octave)
node-function = Function
node-gain = Gain
node-MidiInNode = Midi In
node-midi-to-values = Midi To Values
node-mixer = Mixer
node-inputs = Inputs
node-oscillator = Oscillator
node-OutputNode = Output
node-outputs = Outputs
node-polyphonic = Polyphonic
node-portamento = Portamento
node-pipe-player = Pipe Player
node-rank-player = Rank Player
node-wavetable-oscillator = Wavetable Oscillator
`;function Pe(n){const e=n-1;return e*e*e+1}function tn(n,{delay:e=0,duration:t=400,easing:r=he}={}){const s=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:o=>`opacity: ${o*s}`}}function nn(n,{delay:e=0,duration:t=400,easing:r=Pe,x:s=0,y:o=0,opacity:a=0}={}){const i=getComputedStyle(n),u=+i.opacity,c=i.transform==="none"?"":i.transform,h=u*(1-a),[g,f]=_e(s),[p,m]=_e(o);return{delay:e,duration:t,easing:r,css:(I,y)=>`
			transform: ${c} translate(${(1-I)*g}${f}, ${(1-I)*p}${m});
			opacity: ${u-h*y}`}}function rn(n,{from:e,to:t},r={}){const s=getComputedStyle(n),o=s.transform==="none"?"":s.transform,[a,i]=s.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*a/t.width-(t.left+a),c=e.top+e.height*i/t.height-(t.top+i),{delay:h=0,duration:g=p=>Math.sqrt(p)*120,easing:f=Pe}=r;return{delay:h,duration:nt(g)?g(Math.sqrt(u*u+c*c)):g,easing:f,css:(p,m)=>{const I=m*u,y=m*c,w=p+m*e.width/t.width,C=p+m*e.height/t.height;return`transform: ${o} translate(${I}px, ${y}px) scale(${w}, ${C});`}}}const sn={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};function on(){const{subscribe:n,update:e}=ye(new Array),t={};let r=0;function s(c){return c instanceof Object}function o(c="default",h={}){return t[c]=h,t}function a(c,h){const g={target:"default",...s(c)?c:{...h,msg:c}},f=t[g.target]||{},p={...sn,...f,...g,theme:{...f.theme,...g.theme},classes:[...f.classes||[],...g.classes||[]],id:++r};return e(m=>p.reversed?[...m,p]:[p,...m]),r}function i(c){e(h=>{if(!h.length||c===0)return[];if(typeof c=="function")return h.filter(f=>c(f));if(s(c))return h.filter(f=>f.target!==c.target);const g=c||Math.max(...h.map(f=>f.id));return h.filter(f=>f.id!==g)})}function u(c,h){const g=s(c)?c:{...h,id:c};e(f=>{const p=f.findIndex(m=>m.id===g.id);return p>-1&&(f[p]={...f[p],...g}),f})}return{subscribe:n,push:a,pop:i,set:u,_init:o}}const fe=on();function Ve(n){return Object.prototype.toString.call(n)==="[object Date]"}function ge(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const r=e.map((s,o)=>ge(n[o],s));return s=>r.map(o=>o(s))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(Ve(n)&&Ve(e)){n=n.getTime(),e=e.getTime();const o=e-n;return a=>new Date(n+a*o)}const r=Object.keys(e),s={};return r.forEach(o=>{s[o]=ge(n[o],e[o])}),o=>{const a={};return r.forEach(i=>{a[i]=s[i](o)}),a}}if(t==="number"){const r=e-n;return s=>n+s*r}throw new Error(`Cannot interpolate ${t} values`)}function an(n,e={}){const t=ye(n);let r,s=n;function o(a,i){if(n==null)return t.set(n=a),Promise.resolve();s=a;let u=r,c=!1,{delay:h=0,duration:g=400,easing:f=he,interpolate:p=ge}=ue(ue({},e),i);if(g===0)return u&&(u.abort(),u=null),t.set(n=s),Promise.resolve();const m=rt()+h;let I;return r=st(y=>{if(y<m)return!0;c||(I=p(n,a),typeof g=="function"&&(g=g(n,a)),c=!0),u&&(u.abort(),u=null);const w=y-m;return w>g?(t.set(n=a),!1):(t.set(n=I(f(w/g))),!0)}),r.promise}return{set:o,update:(a,i)=>o(a(s,n),i),subscribe:t.subscribe}}function ln(n){let e,t=n[0].msg+"",r;return{c(){e=new it(!1),r=ee(),this.h()},l(s){e=at(s,!1),r=ee(),this.h()},h(){e.a=r},m(s,o){e.m(t,s,o),O(s,r,o)},p(s,o){o&1&&t!==(t=s[0].msg+"")&&e.p(t)},i:D,o:D,d(s){s&&b(r),s&&e.d()}}}function un(n){let e,t,r;const s=[n[2]];var o=n[0].component.src;function a(i){let u={};for(let c=0;c<s.length;c+=1)u=ue(u,s[c]);return{props:u}}return o&&(e=we(o,a())),{c(){e&&V(e.$$.fragment),t=ee()},l(i){e&&j(e.$$.fragment,i),t=ee()},m(i,u){e&&M(e,i,u),O(i,t,u),r=!0},p(i,u){const c=u&4?lt(s,[ut(i[2])]):{};if(u&1&&o!==(o=i[0].component.src)){if(e){pe();const h=e;S(h.$$.fragment,1,0,()=>{X(h,1)}),me()}o?(e=we(o,a()),V(e.$$.fragment),R(e.$$.fragment,1),M(e,t.parentNode,t)):e=null}else o&&e.$set(c)},i(i){r||(e&&R(e.$$.fragment,i),r=!0)},o(i){e&&S(e.$$.fragment,i),r=!1},d(i){i&&b(t),e&&X(e,i)}}}function Me(n){let e,t,r;return{c(){e=B("div"),this.h()},l(s){e=T(s,"DIV",{class:!0,role:!0,tabindex:!0}),x(e).forEach(b),this.h()},h(){E(e,"class","_toastBtn pe svelte-95rq8t"),E(e,"role","button"),E(e,"tabindex","0")},m(s,o){O(s,e,o),t||(r=[N(e,"click",n[4]),N(e,"keydown",n[8])],t=!0)},p:D,d(s){s&&b(e),t=!1,Ie(r)}}}function cn(n){let e,t,r,s,o,a,i,u,c,h;const g=[un,ln],f=[];function p(I,y){return I[0].component?0:1}r=p(n),s=f[r]=g[r](n);let m=n[0].dismissable&&Me(n);return{c(){e=B("div"),t=B("div"),s.c(),o=Q(),m&&m.c(),a=Q(),i=B("progress"),this.h()},l(I){e=T(I,"DIV",{class:!0});var y=x(e);t=T(y,"DIV",{role:!0,class:!0});var w=x(t);s.l(w),w.forEach(b),o=q(y),m&&m.l(y),a=q(y),i=T(y,"PROGRESS",{class:!0}),x(i).forEach(b),y.forEach(b),this.h()},h(){E(t,"role","status"),E(t,"class","_toastMsg svelte-95rq8t"),J(t,"pe",n[0].component),E(i,"class","_toastBar svelte-95rq8t"),i.value=n[1],E(e,"class","_toastItem svelte-95rq8t"),J(e,"pe",n[0].pausable)},m(I,y){O(I,e,y),K(e,t),f[r].m(t,null),K(e,o),m&&m.m(e,null),K(e,a),K(e,i),u=!0,c||(h=[N(e,"mouseenter",n[9]),N(e,"mouseleave",n[6])],c=!0)},p(I,[y]){let w=r;r=p(I),r===w?f[r].p(I,y):(pe(),S(f[w],1,1,()=>{f[w]=null}),me(),s=f[r],s?s.p(I,y):(s=f[r]=g[r](I),s.c()),R(s,1),s.m(t,null)),(!u||y&1)&&J(t,"pe",I[0].component),I[0].dismissable?m?m.p(I,y):(m=Me(I),m.c(),m.m(e,a)):m&&(m.d(1),m=null),(!u||y&2)&&(i.value=I[1]),(!u||y&1)&&J(e,"pe",I[0].pausable)},i(I){u||(R(s),u=!0)},o(I){S(s),u=!1},d(I){I&&b(e),f[r].d(),m&&m.d(),c=!1,Ie(h)}}}function ae(n,e="undefined"){return typeof n===e}function fn(n,e,t){let r,{item:s}=e,o=s.initial,a=o,i=!1,u={},c;const h=an(s.initial,{duration:s.duration,easing:he});de(n,h,C=>t(1,r=C));function g(){fe.pop(s.id)}function f(){(r===1||r===0)&&g()}function p(){!i&&r!==o&&(h.set(r,{duration:0}),i=!0)}function m(){if(i){const C=s.duration,v=C-C*((r-a)/(o-a));h.set(o,{duration:v}).then(f),i=!1}}function I(C=document){if(ae(C.hidden))return;const v=()=>C.hidden?p():m(),P="visibilitychange";C.addEventListener(P,v),c=()=>C.removeEventListener(P,v),v()}Le(I),ot(()=>{ae(s.onpop,"function")&&s.onpop(s.id),c&&c()});const y=C=>{C instanceof KeyboardEvent&&["Enter"," "].includes(C.key)&&g()},w=()=>{s.pausable&&p()};return n.$$set=C=>{"item"in C&&t(0,s=C.item)},n.$$.update=()=>{if(n.$$.dirty&1&&(ae(s.progress)||t(0,s.next=s.progress,s)),n.$$.dirty&131&&o!==s.next&&(t(7,o=s.next),a=r,i=!1,h.set(o).then(f)),n.$$.dirty&1&&s.component){const{props:C={},sendIdTo:v}=s.component;t(2,u={...C,...v&&{[v]:s.id}})}},[s,r,u,h,g,p,m,o,y,w]}class gn extends z{constructor(e){super(),H(this,e,fn,cn,L,{item:0})}}function Xe(n,e,t){const r=n.slice();return r[4]=e[t],r}function Fe(n,e){let t,r,s,o,a,i,u,c,h=D,g;return r=new gn({props:{item:e[4]}}),{key:n,first:null,c(){t=B("li"),V(r.$$.fragment),s=Q(),this.h()},l(f){t=T(f,"LI",{class:!0,style:!0});var p=x(t);j(r.$$.fragment,p),s=q(p),p.forEach(b),this.h()},h(){var f;E(t,"class",o=be((f=e[4].classes)==null?void 0:f.join(" "))+" svelte-1u812xz"),E(t,"style",a=Ze(e[4].theme)),this.first=t},m(f,p){O(f,t,p),M(r,t,null),K(t,s),g=!0},p(f,p){var I;e=f;const m={};p&1&&(m.item=e[4]),r.$set(m),(!g||p&1&&o!==(o=be((I=e[4].classes)==null?void 0:I.join(" "))+" svelte-1u812xz"))&&E(t,"class",o),(!g||p&1&&a!==(a=Ze(e[4].theme)))&&E(t,"style",a)},r(){c=t.getBoundingClientRect()},f(){gt(t),h(),dt(t,c)},a(){h(),h=ht(t,c,rn,{duration:200})},i(f){g||(R(r.$$.fragment,f),pt(()=>{g&&(u&&u.end(1),i=mt(t,nn,e[4].intro),i.start())}),g=!0)},o(f){S(r.$$.fragment,f),i&&i.invalidate(),u=It(t,tn,{}),g=!1},d(f){f&&b(t),X(r),f&&u&&u.end()}}}function dn(n){let e,t=[],r=new Map,s,o=n[0];const a=i=>i[4].id;for(let i=0;i<o.length;i+=1){let u=Xe(n,o,i),c=a(u);r.set(c,t[i]=Fe(c,u))}return{c(){e=B("ul");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=T(i,"UL",{class:!0});var u=x(e);for(let c=0;c<t.length;c+=1)t[c].l(u);u.forEach(b),this.h()},h(){E(e,"class","_toastContainer svelte-1u812xz")},m(i,u){O(i,e,u);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);s=!0},p(i,[u]){if(u&1){o=i[0],pe();for(let c=0;c<t.length;c+=1)t[c].r();t=ct(t,u,a,1,i,o,r,e,ft,Fe,null,Xe);for(let c=0;c<t.length;c+=1)t[c].a();me()}},i(i){if(!s){for(let u=0;u<o.length;u+=1)R(t[u]);s=!0}},o(i){for(let u=0;u<t.length;u+=1)S(t[u]);s=!1},d(i){i&&b(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function Ze(n){return n?Object.keys(n).reduce((e,t)=>`${e}${t}:${n[t]};`,""):void 0}function hn(n,e,t){let r;de(n,fe,i=>t(3,r=i));let{options:s={}}=e,{target:o="default"}=e,a=[];return n.$$set=i=>{"options"in i&&t(1,s=i.options),"target"in i&&t(2,o=i.target)},n.$$.update=()=>{n.$$.dirty&6&&fe._init(o,s),n.$$.dirty&12&&t(0,a=r.filter(i=>i.target===o))},[a,s,o,r]}class pn extends z{constructor(e){super(),H(this,e,hn,dn,L,{options:1,target:2})}}function mn(n){let e,t;return e=new pn({}),{c(){V(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,s){M(e,r,s),t=!0},p:D,i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){X(e,r)}}}class In extends z{constructor(e){super(),H(this,e,null,mn,L,{})}}const yn="data:video/mp2t;base64,aW1wb3J0IHsgaW5pdFN5bmMsIFN0YXRlIH0gZnJvbSAiLi4vd2FzbS92cG9fYmFja2VuZCI7CgpjbGFzcyBSdXN0RW5naW5lV29ya2xldCBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvciB7CiAgICBzdGF0ZTogU3RhdGU7CiAgICB0b0lucHV0OiBzdHJpbmdbXTsKICAgIG1pZGlJbjogVWludDhBcnJheVtdOwoKICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBBdWRpb1dvcmtsZXROb2RlT3B0aW9ucykgewogICAgICAgIHN1cGVyKCk7CgogICAgICAgIC8vIGluaXQgdGhlIHdhc20gbW9kdWxlCiAgICAgICAgbGV0IHsgbW9kdWxlIH0gPSBvcHRpb25zPy5wcm9jZXNzb3JPcHRpb25zOwogICAgICAgIGluaXRTeW5jKG1vZHVsZSk7CgogICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5uZXcoNDQxMDApOwogICAgICAgIHRoaXMubWlkaUluID0gW107CgogICAgICAgIHRoaXMucG9ydC5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGEucGF5bG9hZDsKICAgICAgICAgICAgbGV0IHR5cGUgPSBkYXRhLnR5cGU7CgogICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICAgICAgICAgIGNhc2UgIm1pZGkiOgogICAgICAgICAgICAgICAgICAgIHRoaXMubWlkaUluLnB1c2goZGF0YS5wYXlsb2FkKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgInJlc291cmNlIjoKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZSA9IG5ldyBVaW50OEFycmF5KGRhdGEucmVzb3VyY2UpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzc29jaWF0ZWRSZXNvdXJjZSA9IGRhdGEuYXNzb2NpYXRlZFJlc291cmNlICYmIG5ldyBVaW50OEFycmF5KGRhdGEuYXNzb2NpYXRlZFJlc291cmNlKTsKCiAgICAgICAgICAgICAgICAgICAgbGV0IGVyciA9IHRoaXMuc3RhdGUubG9hZF9yZXNvdXJjZShkYXRhLnBhdGgsIHJlc291cmNlLCBhc3NvY2lhdGVkUmVzb3VyY2UpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJsb2FkaW5nIGVycm9yOiAiLCBlcnIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgIm1lc3NhZ2UiOgogICAgICAgICAgICAgICAgICAgIHRoaXMudG9JbnB1dC5wdXNoKEpTT04uc3RyaW5naWZ5KGRhdGEucGF5bG9hZCkpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy50b0lucHV0ID0gW107CiAgICB9CgogICAgcHJvY2VzcyhfaW5wdXRzOiBGbG9hdDMyQXJyYXlbXVtdLCBvdXRwdXRzOiBGbG9hdDMyQXJyYXlbXVtdKSB7CiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuc3RhdGUuc3RlcCh0aGlzLnRvSW5wdXQuc3BsaWNlKDAsIDEpWzBdLCB0aGlzLm1pZGlJbi5zcGxpY2UoMCwgMSlbMF0gPz8gbmV3IFVpbnQ4QXJyYXkoKSwgb3V0cHV0c1swXVswXSk7CgogICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgewogICAgICAgICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UocmVzdWx0KTsKICAgICAgICB9CgogICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgb3V0cHV0c1swXS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG91dHB1dHNbMF1baV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgIG91dHB1dHNbMF1baV1bal0gPSBvdXRwdXRzWzBdWzBdW2pdOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KfQoKcmVnaXN0ZXJQcm9jZXNzb3IoIlJ1c3RFbmdpbmVXb3JrbGV0IiwgUnVzdEVuZ2luZVdvcmtsZXQpOwoKLy8gdG8gbWFrZSB0eXBlc2NyaXB0IGhhcHB5CmV4cG9ydCB0eXBlIHt9Cg==",An=""+new URL("../assets/vpo_backend_bg.eead6ff9.wasm",import.meta.url).href;class Cn{constructor(e,t){se(this,"context");se(this,"worklet");this.context=e,this.worklet=t}send(e){this.worklet.port.postMessage({type:"message",payload:e})}}async function _n(n){await n.audioWorklet.addModule(yn);const e=await fetch(An).then(r=>r.arrayBuffer()),t=new AudioWorkletNode(n,"RustEngineWorklet",{processorOptions:{module:e}});return t.connect(n.destination),new Cn(n,t)}async function Ke(n,e){const t=await fetch(n,e);if(!t.body)return;const r=[];let s=0;const o=t.body.getReader();for(;;){const{done:c,value:h}=await o.read();if(c)break;r.push(h),s+=h.byteLength}const a=new SharedArrayBuffer(s),i=new Uint8Array(a);let u=0;for(const c of r)i.set(c,u),u+=c.byteLength;return a}const{window:le}=yt;function wn(n){let e,t,r;e=new In({});const s=n[5].default,o=De(s,n,n[6],null);return{c(){V(e.$$.fragment),t=Q(),o&&o.c()},l(a){j(e.$$.fragment,a),t=q(a),o&&o.l(a)},m(a,i){M(e,a,i),O(a,t,i),o&&o.m(a,i),r=!0},p(a,i){o&&o.p&&(!r||i&64)&&We(o,s,a,a[6],r?He(s,a[6],i,null):ze(a[6]),null)},i(a){r||(R(e.$$.fragment,a),R(o,a),r=!0)},o(a){S(e.$$.fragment,a),S(o,a),r=!1},d(a){X(e,a),a&&b(t),o&&o.d(a)}}}function bn(n){let e,t,r,s;return e=new qt({props:{bundles:[n[0]],$$slots:{default:[wn]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},l(o){j(e.$$.fragment,o)},m(o,a){M(e,o,a),t=!0,r||(s=[N(le,"keydown",n[1]),N(le,"resize",n[3]),N(le,"click",n[2])],r=!0)},p(o,[a]){const i={};a&64&&(i.$$scope={dirty:a,ctx:o}),e.$set(i)},i(o){t||(R(e.$$.fragment,o),t=!0)},o(o){S(e.$$.fragment,o),t=!1},d(o){X(e,o),r=!1,Ie(s)}}}function En(n){return fetch(`/${n}/resources.json`).then(e=>e.json())}function Ue(n){return n.split("/").map(encodeURIComponent).join("/")}function vn(n,e,t){let{$$slots:r={},$$scope:s}=e,{data:o}=e;const a=new Ot("en");a.addResource(new jt(en));const i=new AudioContext;_n(i).then(f=>{o.socket.setEngine(f)});function u(f){if(f.ctrlKey)switch(f.key){case"s":o.socket.save();break;case"o":o.socket.load();break}}async function c(){i.state!=="running"&&(await i.resume(),o.socket.flushMessages())}function h(){o.socket.onMessage(f=>{console.log("received",f),f.action==="graph/updateGraph"?o.graphManager.applyJson(f.payload):f.action==="registry/updateRegistry"?o.socketRegistry.applyJson(f.payload):f.action==="state/updateGlobalState"&&o.globalEngineState.set(f.payload)})}function g(f){const p=f.target;o.windowDimensions.set({width:p.innerWidth-1,height:p.innerHeight-3})}return Le(async()=>{o.windowDimensions.set({width:window.innerWidth-1,height:window.innerHeight-3});const f=await En("organ");for(let p of f)Array.isArray(p)?Promise.all(p.map(m=>Ke(`/organ/${Ue(m)}`))).then(([m,I])=>{const y={type:"resource",resource:m,associatedResource:I,path:p[0]};o.socket.sendRaw(y)}):Ke(`/organ/${p}`).then(m=>{const I={type:"resource",resource:m,path:Ue(p)};o.socket.sendRaw(I)})}),h(),n.$$set=f=>{"data"in f&&t(4,o=f.data),"$$scope"in f&&t(6,s=f.$$scope)},[a,u,c,g,o,r,s]}class Nn extends z{constructor(e){super(),H(this,e,vn,bn,L,{data:4})}}export{Nn as default};
