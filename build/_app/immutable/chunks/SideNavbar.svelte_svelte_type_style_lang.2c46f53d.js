import{al as L,am as $}from"./index.ace4def9.js";import{d as v}from"./index.48dfbc7e.js";function g(t,n){return Array.isArray(n)?n.map(a=>b(t,a)):b(t,n)}function b(t,n){for(const a of t)if(a.hasMessage(n))return a;return null}const p={};function P(t,n){const a=v(t,f=>(e,u)=>{const s=g(f,e);if(s===null)return n(`[svelte-fluent] Localization missing: "${e}"`),{value:e,attributes:{}};const r=s.getMessage(e);if(!r)return n(`[svelte-fluent] Localization missing: "${e}"`),{value:e,attributes:{}};const o=[],i=r.value?s.formatPattern(r.value,u,o):"",c=Object.fromEntries(Object.entries(r.attributes||{}).map(([l,m])=>[l,s.formatPattern(m,u,o)]));for(const l of o)n(`[svelte-fluent] Localization error: ${l}`);return{value:i,attributes:c}}),z=v(t,f=>(e,u)=>{const[s,r]=e.split(".",2),o=g(f,s);if(o===null)return n(`[svelte-fluent] Localization missing: "${e}"`),e;const i=o.getMessage(s);if(!i)return n(`[svelte-fluent] Localization missing: "${e}"`),e;const c=r?i.attributes[r]:i.value;if(c===null)return n(`[svelte-fluent] Localization missing: "${e}"`),e;const l=[],m=o.formatPattern(c,u,l);for(const y of l)n(`[svelte-fluent] Localization error: ${y}`);return m});return L(p,{getTranslation:a,localize:z})}function _(){const t=$(p);if(!t)throw new Error("[svelte-fluent] <FluentProvider/> was not found in component hierarchy.");return t}const S={subscribe(t){return _().getTranslation.subscribe(t)}},w={subscribe(t){return _().localize.subscribe(t)}};export{S as g,P as i,w as l};
